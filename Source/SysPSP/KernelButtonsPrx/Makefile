TARGET = kernelbuttons
OBJS = main.o

INCDIR =
CFLAGS = -Os -G0 -Wall


CXXFLAGS = $(CFLAGS) -fno-exceptions -fno-rtti
ASFLAGS = $(CFLAGS)

BUILD_PRX = 1
PRX_EXPORTS = kstuff.exp 
 
USE_KERNEL_LIBC=1
USE_KERNEL_LIBS=1 
 
LIBDIR =
LDFLAGS = -mno-ctr0 -nostartfiles
LIBS=$(STDLIBS)$(YOURLIBS)

PSPSDK=$(shell psp-config --pspsdk-path)
include $(PSPSDK)/lib/build.mak

EXTRA_TARGETS += kernelbuttons.S
EXTRA_CLEAN += kernelbuttons.o

kernelbuttons.S : $(PRX_EXPORTS)
	psp-build-exports --build-stubs $(PRX_EXPORTS)

all: $(FINAL_TARGET) kernelbuttons.S
	cp $(FINAL_TARGET) "../../.."
